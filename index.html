<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Hammock Hanger Web App</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">        <!-- <script type="module" src="js/math.js" ></script> -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js" integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="css/styles.css">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;1,300&display=swap" rel="stylesheet">
        <!-- <script name="test" type="module">

            // Import Math Library
            import { ropeTension } from '../js/math.js'

            var valRopeTension = ropeTension();

           

           //console.log(valRopeTension);

        </script> -->

        <script>

            //Declare local variables and set initial value
            let calcRopeTension = 0;
            let calcWeight = 0;
            let calcShearForce = 0;
            let calcRopeAngle = 0;
    
            let inputDistance = 12;
            let inputWeight = 180;
            let inputAngle = 30;
            let inputHeight = 18;

            let metricUOM = false;
            let imperialUOM = true;
    
            function mathCalcs() {

               if(metricUOM) {

                inputDistance = document.getElementById('input-distance').value;
    
                console.log("The input distance is:" + inputDistance);    

                document.getElementById('hang-distance').innerHTML = inputDistance + "m";

                inputWeight = document.getElementById('input-weight').value;

                console.log("The input weight:" + inputWeight);    

                document.getElementById('hang-weight').innerHTML = inputWeight + "kg";

                inputAngle = document.getElementById('input-angle').value;

                console.log("The input Angle:" + inputAngle);    

                document.getElementById('hang-angle').innerHTML = inputAngle + "deg";

                inputHeight = document.getElementById('input-sit-height').value;

                console.log("The input Height:" + inputHeight);    

                document.getElementById('hang-height').innerHTML = inputHeight + "cm";

                calcRopeTension = Math.round(((inputWeight)*(9.81) / (2 * (Math.sin(((inputAngle)*(Math.PI))/(180)))))*(0.1019716));

                calcRopeShear = Math.round(((calcRopeTension)*(Math.cos((((inputAngle)*(Math.PI))/(180))))));                 

                document.getElementById('rope-tension').innerHTML = calcRopeTension + "Kgf"; 

                document.getElementById('rope-shear').innerHTML = calcRopeShear + "Kgf";


               } else {
                console.log("metricUOM false");
               }
               
               if(imperialUOM) {

                inputDistance = document.getElementById('input-distance').value;

                console.log("The input distance is:" + inputDistance);    

                document.getElementById('hang-distance').innerHTML = inputDistance + "ft";

                inputWeight = document.getElementById('input-weight').value;

                console.log("The input weight:" + inputWeight);    

                document.getElementById('hang-weight').innerHTML = inputWeight + "lb";

                inputAngle = document.getElementById('input-angle').value;

                console.log("The input Angle:" + inputAngle);    

                document.getElementById('hang-angle').innerHTML = inputAngle + "deg";

                inputHeight = document.getElementById('input-sit-height').value;

                console.log("The input Height:" + inputHeight);    

                document.getElementById('hang-height').innerHTML = inputHeight + "in";

                calcRopeTension = Math.round(((inputWeight)*(9.81) / (2 * (Math.sin(((inputAngle)*(Math.PI))/(180)))))*(0.1019716));

                calcRopeShear = Math.round(((calcRopeTension)*(Math.cos((((inputAngle)*(Math.PI))/(180))))));                 

                document.getElementById('rope-tension').innerHTML = calcRopeTension + "lbf"; 

                document.getElementById('rope-shear').innerHTML = calcRopeShear + "lbf";


                } else {
                console.log("metricUOM false");
                }

                //console.log(calcRopeShear);
                //return calcRopeTension;    
                scroll(0,75);


            }

            function setMetricUOM () {
                metricUOM = true;
                imperialUOM = false;
                mathCalcs();
                console.log("Metric");
               } 
    
            function setImperialUOM () {
                metricUOM = false;
                imperialUOM = true;
                mathCalcs();
                console.log("Imperial");
            }
    
            </script>
    


    </head>
    <body>        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
               
    <header>
        <section>

        </section>
    </header>
        
    <main>

        <section>   
            <div class="container text-center">
                <div style="height:4vh;" class="container"></div>
                <h1 class="title">Hammock Hanging Calculator</h1>
            </div>

            <div style="height:4vh;" class="container"></div>

            <div class="results">                  
                <div class="results-hang-distance">
                    <h2 id="hang-distance">12ft</h2>
                    <h3>Hang Distance</h3>
                </div>

                <div class="results-rope-tension">
                    <h2 id="rope-tension">180lbf</h2>
                    <h3>Rope Tension</h3>
                </div>               
    
                <div class="results-shear">
                    <h2 id="rope-shear">156lbf</h2>
                    <h3>Shear Force</h3>
                </div>
    
                <div class="results-hang-height">
                    <h2 id="hang-height">18in</h2>    
                    <h3>Hang Height</h3>
                </div>
    
                <div class="results-hang-weight">
                    <h2 id="hang-weight">180lb</h2>
                    <h3>Hang Weight</h3>
                </div>

                <div class="results-sit-height">
                    <h2 id="sit-eight">18in</h2>
                    <h3>Sit Height</h3>
                </div>

                <div class="results-hang-angle">
                    <h2 id="hang-angle">30deg</h2>        
                    <h3>Hang Angle</h3>
                </div>   
            </div>
        </section>

        <section>   
            
            <div style="height:4vh;" class="container"></div>
            <h1 class="text-center">Calculator Inputs</h1>

            <div class="content flow">
                <form>
                <div class="even-columns text-center">
                    <div class="col">
                        <h2 class="">Unit Of Measure</h2>
                    </div>
                    <div class="col">
                        <div class="d-inline-flex">
                            <input type="radio" id="metric" name="unit_of_measure" value="METRIC" onclick="setMetricUOM()">
                            <label for="metric">METRIC (m, kg)</label><br>    
                        </div>
                        <div class="d-inline-flex">

                        <input type="radio" id="imperial" name="unit_of_measure" value="IMPERIAL" onclick="setImperialUOM()" checked>
                        <label for="imperial">IMPERIAL (in, lb)</label><br>
                        </div>    

                    </div>        
                </div>
                <div class="grid-ish">
                    <div class="col text-center">
                        <label for="input-distance">Distance</label>
                        <input style="width:50px;" value="12" type="number" id="input-distance" name="input-distance" required>        
                    </div>
                    <div class="col">
                        <p>
                            Use distance when you know the distance between your anchors (such as between two trees, pillars, or walls)
                             but you want to know the hang height.
                        </p>
                    </div>
                </div>

                <div class="grid-ish">
                    <div class="col text-center">
                        <label for="input-weight">Hammock Weight</label>
                        <input value="180" type="number" id="input-weight" name="input-weight" required>        
                    </div>
                    <div class="col">
                        <p>
                            Used for calculating static shear forces, based on hang angle.
                        </p>        
                    </div>
                </div>

                <div class="grid-ish">
                    <div class="col text-center">
                        <label for="input-angle">Rope Angle</label>
                        <input value="30" type="number" id="input-angle" name="input-angle">
                    </div>
                    <div class="col">
                        <p>
                            Use distance when you know the distance between your anchors (such as between two trees, pillars, or walls)
                             but you want to know the hang height.
                        </p>
                    </div>
                </div>

                <div class="grid-ish">
                    <div class="col text-center">
                        <label for="input-sit-height">Sit Height</label>
                        <input value="18" type="number" id="input-sit-height" name="input-sit-height">        
                    </div>
                    <div class="col">
                        <p>
                            Use distance when you know the distance between your anchors (such as between two trees, pillars, or walls)
                             but you want to know the hang height.
                        </p>
                    </div>
                </div>
                </form>

                <div class="continer text-center">
                    <button onclick="mathCalcs()">Calculate!</button>
                </div>    
            
            </div>    

        </section>

    </main>

    </body>

</html>